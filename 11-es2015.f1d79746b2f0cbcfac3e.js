(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"g+co":function(l,n,u){"use strict";u.r(n);var e=u("8Y7J"),t=u("kO8A"),i=u("HMx0");class s{constructor(l,n,u,e,t,i,s){this.router=l,this.commonService=n,this.activatedRoute=u,this.loginService=e,this.dialog=t,this.notify=i,this.layoutService=s,this.channelsList=[],this.filteredChannelList=[],this.isUserLogged=this.loginService.isUserLoggedIn(),this.activatedRoute.queryParams.subscribe(l=>{console.log("params",l),l.category?this.getChannelsList(l.category):this.getChannelsList()}),this.queryParams=this.router.url}ngOnInit(){}getChannelsList(l=""){this.commonService.getChannelsList().subscribe(n=>{n&&(this.channelsList=n.Content,this.sortBy("views")),this.getChannelByCategory(l)})}getChannelByCategory(l){l?(console.log("category",l),this.filteredChannelList=this.channelsList.filter(n=>{if(n.Channels.Category)return n.Channels.Category.toLowerCase()===l.toLowerCase()})):(console.log("no category",l),this.filteredChannelList=this.channelsList),console.log("filter list",this.filteredChannelList)}removeChannelfromList(l){this.filteredChannelList.splice(l,1)}sortBy(l){"views"===l&&this.channelsList.sort((l,n)=>+l.Channels.ChannelViews<+n.Channels.ChannelViews?1:+l.Channels.ChannelViews>+n.Channels.ChannelViews?-1:0),"rating"===l&&this.channelsList.sort((l,n)=>+l.Channels.Rating<+n.Channels.Rating?1:+l.Channels.Rating>+n.Channels.Rating?-1:0)}subscribeChannel(l,n){if(this.isUserLogged){const u=this.layoutService.getUserID();this.commonService.subscribeChannel({Content:{subscribe:{channelId:l.Channels.Id,UserId:u,issubscribed:1}}}).subscribe(l=>{this.dialog.open(t.a,{width:"300px",data:{type:n,content:"You have successfully subscribed this channel"}}).afterClosed().subscribe(l=>{})},l=>{this.notify.error(l.error.message)})}else this.dialog.open(i.a,{width:"300px",data:{content:`Please Sign in to ${n} this channel`,params:this.queryParams}}).afterClosed().subscribe(l=>{})}}class a{}var c=u("pMnS"),o=u("NcP4"),r=u("t68o"),b=u("9ygj"),h=u("DjZ+"),d=u("g178"),g=u("rHXJ"),p=u("jijl"),f=u("iInd"),m=u("SVse"),C=u("xkgV"),v=u("abRS"),w=u("8cFx"),y=u("1ld4"),K=u("s6ns"),A=u("1liP"),x=u("ZNY0"),k=e.yb({encapsulation:0,styles:[[".justify-pagination[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.subscription-cont[_ngcontent-%COMP%]{min-height:calc(100vh - 53px - 73px)}"]],data:{}});function L(l){return e.Wb(0,[(l()(),e.Ab(0,0,null,null,23,null,null,null,null,null,null,null)),(l()(),e.Ab(1,0,null,null,22,"div",[["class","col-xl-3 col-sm-6 mb-3"]],null,null,null,null,null)),(l()(),e.Ab(2,0,null,null,21,"a",[["class","channels-card d-block"]],null,null,null,null,null)),(l()(),e.Ab(3,0,null,null,11,"div",[["class","channels-card-image"]],null,null,null,null,null)),(l()(),e.Ab(4,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Mb(l,5).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t}),null,null)),e.zb(5,671744,null,0,f.o,[f.l,f.a,m.k],{routerLink:[0,"routerLink"]},null),e.Nb(6,1),(l()(),e.Ab(7,0,null,null,0,"img",[["class","img-fluid"],["onerror","this.src='assets/img/default-image.png';"]],[[8,"src",4]],null,null,null,null)),(l()(),e.Ab(8,0,null,null,6,"div",[["class","channels-card-image-btn"]],null,null,null,null,null)),(l()(),e.Ab(9,0,null,null,3,"button",[["class","btn btn-success btn-sm border-none"],["style","margin-right: 3px;"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.subscribeChannel(l.context.$implicit,"subscribe")&&e),e}),null,null)),(l()(),e.Ub(-1,null,[" Subscribe "])),(l()(),e.Ab(11,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Ub(12,null,["",""])),(l()(),e.Ab(13,0,null,null,1,"button",[["class","btn btn-warning btn-sm border-none"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.removeChannelfromList(l.context.index)&&e),e}),null,null)),(l()(),e.Ab(14,0,null,null,0,"em",[["class","fas fa-times-circle"]],null,null,null,null,null)),(l()(),e.Ab(15,0,null,null,8,"div",[["class","channels-card-body"]],null,null,null,null,null)),(l()(),e.Ab(16,0,null,null,5,"div",[["class","channels-title"]],null,null,null,null,null)),(l()(),e.Ab(17,0,null,null,4,"div",[["style","color: #ff0000; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;"]],null,null,null,null,null)),(l()(),e.Ub(18,null,[" "," "])),e.Qb(19,1),(l()(),e.Ab(20,0,null,null,1,"span",[["data-original-title","Verified"],["data-placement","top"],["data-toggle","tooltip"],["title",""]],null,null,null,null,null)),(l()(),e.Ab(21,0,null,null,0,"em",[["class","fas fa-check-circle text-success"]],null,null,null,null,null)),(l()(),e.Ab(22,0,null,null,1,"div",[["class","channels-view"]],null,null,null,null,null)),(l()(),e.Ub(23,null,[" "," subscribers "]))],(function(l,n){var u=l(n,6,0,"/single-channel/videos");l(n,5,0,u)}),(function(l,n){l(n,4,0,e.Mb(n,5).target,e.Mb(n,5).href),l(n,7,0,e.Eb(1,"",null==n.context.$implicit||null==n.context.$implicit.Channels?null:n.context.$implicit.Channels.ChannelPic,"")),l(n,12,0,null==n.context.$implicit||null==n.context.$implicit.Channels?null:n.context.$implicit.Channels.ChannelViews);var u=e.Vb(n,18,0,l(n,19,0,e.Mb(n.parent,0),null==n.context.$implicit||null==n.context.$implicit.Channels?null:n.context.$implicit.Channels.Title));l(n,18,0,u),l(n,23,0,null==n.context.$implicit||null==n.context.$implicit.Channels?null:n.context.$implicit.Channels.Subscribers)}))}function P(l){return e.Wb(0,[e.Ob(0,m.z,[]),(l()(),e.Ab(1,0,null,null,27,"div",[["class","container-fluid subscription-cont"]],null,null,null,null,null)),(l()(),e.Ab(2,0,null,null,23,"div",[["class","video-block section-padding"]],null,null,null,null,null)),(l()(),e.Ab(3,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.Ab(4,0,null,null,17,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),e.Ab(5,0,null,null,16,"div",[["class","main-title"]],null,null,null,null,null)),(l()(),e.Ab(6,0,null,null,13,"div",[["class","btn-group float-right right-action"]],null,null,null,null,null)),(l()(),e.Ab(7,0,null,null,2,"a",[["aria-expanded","false"],["aria-haspopup","true"],["class","right-action-link text-gray"],["data-toggle","dropdown"],["href","#"]],null,null,null,null,null)),(l()(),e.Ub(-1,null,[" Sort by "])),(l()(),e.Ab(9,0,null,null,0,"em",[["aria-hidden","true"],["class","fa fa-caret-down"]],null,null,null,null,null)),(l()(),e.Ab(10,0,null,null,9,"div",[["class","dropdown-menu dropdown-menu-right"]],null,null,null,null,null)),(l()(),e.Ab(11,0,null,null,2,"a",[["class","dropdown-item"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.sortBy("views")&&e),e}),null,null)),(l()(),e.Ab(12,0,null,null,0,"em",[["class","fas fa-fw fa-star"]],null,null,null,null,null)),(l()(),e.Ub(-1,null,[" \xa0 Top Rated"])),(l()(),e.Ab(14,0,null,null,2,"a",[["class","dropdown-item"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.sortBy("rating")&&e),e}),null,null)),(l()(),e.Ab(15,0,null,null,0,"em",[["class","fas fa-fw fa-signal"]],null,null,null,null,null)),(l()(),e.Ub(-1,null,[" \xa0 Viewed"])),(l()(),e.Ab(17,0,null,null,2,"a",[["class","dropdown-item"],["href",""]],null,null,null,null,null)),(l()(),e.Ab(18,0,null,null,0,"em",[["class","fas fa-fw fa-times-circle"]],null,null,null,null,null)),(l()(),e.Ub(-1,null,[" \xa0 Close"])),(l()(),e.Ab(20,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),e.Ub(-1,null,["Channels"])),(l()(),e.pb(16777216,null,null,3,null,L)),e.zb(23,278528,null,0,m.n,[e.V,e.S,e.w],{ngForOf:[0,"ngForOf"]},null),e.Pb(24,{itemsPerPage:0,currentPage:1}),e.Ob(0,C.b,[C.e]),(l()(),e.Ab(26,0,null,null,2,"div",[["class","justify-pagination"]],null,null,null,null,null)),(l()(),e.Ab(27,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(l,n,u){var e=!0;return"pageChange"===n&&(e=!1!==(l.component.q=u)&&e),e}),v.b,v.a)),e.zb(28,49152,null,0,C.c,[],null,{pageChange:"pageChange"})],(function(l,n){var u=n.component,t=e.Vb(n,23,0,e.Mb(n,25).transform(u.filteredChannelList,l(n,24,0,12,u.q)));l(n,23,0,t)}),null)}function S(l){return e.Wb(0,[(l()(),e.Ab(0,0,null,null,1,"app-subscription-page",[],null,null,null,P,k)),e.zb(1,114688,null,0,s,[f.l,w.a,f.a,y.a,K.e,A.a,x.a],null,null)],(function(l,n){l(n,1,0)}),null)}var U=e.wb("app-subscription-page",s,S,{},{},[]),$=u("QQfA"),V=u("IP0z"),j=u("POq0"),M=u("Mz6y"),O=u("cUpR"),I=u("Xd0L"),z=u("s7LF"),R=u("zMNK"),q=u("/HVE"),B=u("hOhj"),F=u("5GAg"),H=u("Xs+b"),J=u("igqZ"),N=u("Fwaw"),Q=u("BzsH"),Z=u("HsOI"),D=u("oapL"),W=u("ZwOa"),X=u("xQn8");u.d(n,"SubscriptionPageModuleNgFactory",(function(){return Y}));var Y=e.xb(a,[],(function(l){return e.Jb([e.Kb(512,e.l,e.ib,[[8,[c.a,o.a,r.a,b.a,h.a,d.a,g.a,p.a,U]],[3,e.l],e.B]),e.Kb(4608,m.q,m.p,[e.y,[2,m.I]]),e.Kb(4608,C.e,C.e,[]),e.Kb(4608,$.c,$.c,[$.i,$.e,e.l,$.h,$.f,e.u,e.D,m.e,V.b,[2,m.j]]),e.Kb(5120,$.j,$.k,[$.c]),e.Kb(4608,j.c,j.c,[]),e.Kb(5120,M.b,M.c,[$.c]),e.Kb(4608,O.e,I.c,[[2,I.g],[2,I.l]]),e.Kb(5120,K.c,K.d,[$.c]),e.Kb(135680,K.e,K.e,[$.c,e.u,[2,m.j],[2,K.b],K.c,[3,K.e],$.e]),e.Kb(4608,z.x,z.x,[]),e.Kb(4608,z.e,z.e,[]),e.Kb(4608,I.b,I.b,[]),e.Kb(1073742336,m.c,m.c,[]),e.Kb(1073742336,f.p,f.p,[[2,f.u],[2,f.l]]),e.Kb(1073742336,C.a,C.a,[]),e.Kb(1073742336,V.a,V.a,[]),e.Kb(1073742336,R.f,R.f,[]),e.Kb(1073742336,q.b,q.b,[]),e.Kb(1073742336,B.b,B.b,[]),e.Kb(1073742336,$.g,$.g,[]),e.Kb(1073742336,j.d,j.d,[]),e.Kb(1073742336,F.a,F.a,[]),e.Kb(1073742336,H.b,H.b,[]),e.Kb(1073742336,I.l,I.l,[[2,I.d],[2,O.f]]),e.Kb(1073742336,J.c,J.c,[]),e.Kb(1073742336,I.u,I.u,[]),e.Kb(1073742336,N.c,N.c,[]),e.Kb(1073742336,Q.a,Q.a,[]),e.Kb(1073742336,M.e,M.e,[]),e.Kb(1073742336,K.k,K.k,[]),e.Kb(1073742336,z.w,z.w,[]),e.Kb(1073742336,z.k,z.k,[]),e.Kb(1073742336,z.t,z.t,[]),e.Kb(1073742336,Z.e,Z.e,[]),e.Kb(1073742336,D.c,D.c,[]),e.Kb(1073742336,W.c,W.c,[]),e.Kb(1073742336,X.a,X.a,[]),e.Kb(1073742336,a,a,[]),e.Kb(1024,f.j,(function(){return[[{path:"",component:s}]]}),[])])}))}}]);